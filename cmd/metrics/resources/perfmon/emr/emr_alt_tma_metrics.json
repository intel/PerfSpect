{
  "Header": {
    "Copyright": "Copyright (c) 2001 - 2025 Intel Corporation. All rights reserved."
  },
  "Metrics": [
    {
      "MetricName": "Frontend_Bound",
      "LegacyName": "metric_TMA_Frontend_Bound(%)",
      "Level": 1,
      "BriefDescription": "This category represents fraction of slots where the processor's Frontend undersupplies its Backend. Frontend denotes the first part of the processor core responsible to fetch operations that are executed later on by the Backend part. Within the Frontend; a branch predictor predicts the next address to fetch; cache-lines are fetched from the memory subsystem; parsed into instructions; and lastly decoded into micro-operations (uops). Ideally the Frontend can issue Pipeline_Width uops every cycle to the Backend. Frontend Bound denotes unutilized issue-slots when there is no Backend stall; i.e. bubbles where Frontend delivered no uops while Backend could have accepted them. For example; stalls due to instruction-cache misses would be categorized under Frontend Bound.",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "IDQ_BUBBLES.CORE",
          "Alias": "a"
        },
        {
          "Name": "INT_MISC.UOP_DROPPING",
          "Alias": "b"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "c"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( ( a - b ) / c )",
      "BaseFormula": "100 * ( ( [IDQ_BUBBLES.CORE] - [INT_MISC.UOP_DROPPING] ) / [TOPDOWN.SLOTS_P] )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_Frontend_Bound(%)"
          }
        ],
        "Formula": "a > 15",
        "BaseFormula": "metric_TMA_Frontend_Bound(%) > 15",
        "ThresholdIssues": ""
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "BvFB;BvIO;TmaL1;PGO",
      "LocateWith": " FRONTEND_RETIRED.LATENCY_GE_4"
    },
    {
      "MetricName": "Fetch_Latency",
      "LegacyName": "metric_TMA_..Fetch_Latency(%)",
      "ParentCategory": "Frontend_Bound",
      "Level": 2,
      "BriefDescription": "This metric represents fraction of slots the CPU was stalled due to Frontend latency issues.  For example; instruction-cache misses; iTLB misses or fetch stalls after a branch misprediction are categorized under Frontend Latency. In such cases; the Frontend eventually delivers no uops for some period.",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "IDQ_BUBBLES.CYCLES_0_UOPS_DELIV.CORE",
          "Alias": "a"
        },
        {
          "Name": "INT_MISC.UOP_DROPPING",
          "Alias": "b"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "c"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( ( a * ( 6 ) - b ) / c )",
      "BaseFormula": " ( 100 * ( ( [IDQ_BUBBLES.CYCLES_0_UOPS_DELIV.CORE] * ( 6 ) - [INT_MISC.UOP_DROPPING] ) / [TOPDOWN.SLOTS_P] ) )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_..Fetch_Latency(%)"
          },
          {
            "Alias": "b",
            "Value": "metric_TMA_Frontend_Bound(%)"
          }
        ],
        "Formula": "a > 10 & b > 15",
        "BaseFormula": "metric_TMA_..Fetch_Latency(%) > 10 & metric_TMA_Frontend_Bound(%) > 15",
        "ThresholdIssues": ""
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "Frontend;TmaL2",
      "LocateWith": " FRONTEND_RETIRED.LATENCY_GE_16;FRONTEND_RETIRED.LATENCY_GE_8"
    },
    {
      "MetricName": "Fetch_Bandwidth",
      "LegacyName": "metric_TMA_..Fetch_Bandwidth(%)",
      "ParentCategory": "Frontend_Bound",
      "Level": 2,
      "BriefDescription": "This metric represents fraction of slots the CPU was stalled due to Frontend bandwidth issues.  For example; inefficiencies at the instruction decoders; or restrictions for caching in the DSB (decoded uops cache) are categorized under Fetch Bandwidth. In such cases; the Frontend typically delivers suboptimal amount of uops to the Backend.",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "IDQ_UOPS_NOT_DELIVERED.CORE",
          "Alias": "a"
        },
        {
          "Name": "INT_MISC.UOP_DROPPING",
          "Alias": "b"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "c"
        },
        {
          "Name": "IDQ_BUBBLES.CYCLES_0_UOPS_DELIV.CORE",
          "Alias": "d"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( max( 0 , ( ( a - b ) / ( c ) ) - ( ( d * ( 6 ) - b ) / ( c ) ) ) )",
      "BaseFormula": "max( 0 , tma_frontend_bound - tma_fetch_latency )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_..Fetch_Bandwidth(%)"
          }
        ],
        "Formula": "a > 20",
        "BaseFormula": "metric_TMA_..Fetch_Bandwidth(%) > 20",
        "ThresholdIssues": "$issueFB"
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "FetchBW;Frontend;TmaL2",
      "LocateWith": "FRONTEND_RETIRED.LATENCY_GE_2_BUBBLES_GE_1;FRONTEND_RETIRED.LATENCY_GE_1;FRONTEND_RETIRED.LATENCY_GE_2"
    },
    {
      "MetricName": "Bad_Speculation",
      "LegacyName": "metric_TMA_Bad_Speculation(%)",
      "Level": 1,
      "BriefDescription": "This category represents fraction of slots wasted due to incorrect speculations. This include slots used to issue uops that do not eventually get retired and slots for which the issue-pipeline was blocked due to recovery from earlier incorrect speculation. For example; wasted work due to miss-predicted branches are categorized under Bad Speculation category. Incorrect data speculation followed by Memory Ordering Nukes is another example.",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "IDQ_BUBBLES.CORE",
          "Alias": "a"
        },
        {
          "Name": "INT_MISC.UOP_DROPPING",
          "Alias": "b"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "c"
        },
        {
          "Name": "TOPDOWN.BACKEND_BOUND_SLOTS",
          "Alias": "d"
        },
        {
          "Name": "UOPS_RETIRED.SLOTS",
          "Alias": "e"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( max( 1 - ( ( ( a - b ) / c ) + ( d / c ) + ( e / c ) ) , 0 ) )",
      "BaseFormula": " 100 * ( max( 1 - ( ( ( [IDQ_BUBBLES.CORE] - [INT_MISC.UOP_DROPPING] ) / [TOPDOWN.SLOTS_P] ) + ( [TOPDOWN.BACKEND_BOUND_SLOTS] / [TOPDOWN.SLOTS_P] ) + ( [UOPS_RETIRED.SLOTS] / [TOPDOWN.SLOTS_P] ) ) , 0 ) )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_Bad_Speculation(%)"
          }
        ],
        "Formula": "a > 15",
        "BaseFormula": "metric_TMA_Bad_Speculation(%) > 15",
        "ThresholdIssues": ""
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "TmaL1",
      "LocateWith": "#NA"
    },
    {
      "MetricName": "Branch_Mispredicts",
      "LegacyName": "metric_TMA_..Branch_Mispredicts(%)",
      "ParentCategory": "Bad_Speculation",
      "Level": 2,
      "BriefDescription": "This metric represents fraction of slots the CPU has wasted due to Branch Misprediction.  These slots are either wasted by uops fetched from an incorrectly speculated program path; or stalls when the out-of-order part of the machine needs to recover its state from a speculative path.",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "TOPDOWN.BR_MISPREDICT_SLOTS",
          "Alias": "a"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "b"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( a / ( b ) )",
      "BaseFormula": "perf_metrics.branch_mispredicts / ( perf_metrics.frontend_bound + perf_metrics.bad_speculation + perf_metrics.retiring + perf_metrics.backend_bound )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_..Branch_Mispredicts(%)"
          },
          {
            "Alias": "b",
            "Value": "metric_TMA_Bad_Speculation(%)"
          }
        ],
        "Formula": "a > 10 & b > 15",
        "BaseFormula": "metric_TMA_..Branch_Mispredicts(%) > 10 & metric_TMA_Bad_Speculation(%) > 15",
        "ThresholdIssues": "$issueBM"
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "BadSpec;BrMispredicts;BvMP;TmaL2",
      "LocateWith": "TOPDOWN.BR_MISPREDICT_SLOTS"
    },
    {
      "MetricName": "Machine_Clears",
      "LegacyName": "metric_TMA_..Machine_Clears(%)",
      "ParentCategory": "Bad_Speculation",
      "Level": 2,
      "BriefDescription": "This metric represents fraction of slots the CPU has wasted due to Machine Clears.  These slots are either wasted by uops fetched prior to the clear; or stalls the out-of-order portion of the machine needs to recover its state after the clear. For example; this can happen due to memory ordering Nukes (e.g. Memory Disambiguation) or Self-Modifying-Code (SMC) nukes.",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "IDQ_UOPS_NOT_DELIVERED.CORE",
          "Alias": "a"
        },
        {
          "Name": "INT_MISC.UOP_DROPPING",
          "Alias": "b"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "c"
        },
        {
          "Name": "TOPDOWN.BACKEND_BOUND_SLOTS",
          "Alias": "d"
        },
        {
          "Name": "UOPS_RETIRED.SLOTS",
          "Alias": "e"
        },
        {
          "Name": "TOPDOWN.BR_MISPREDICT_SLOTS",
          "Alias": "f"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( max( 0 , ( max( 1 - ( ( ( a - b ) / ( c ) ) + ( d / ( c ) ) + ( e / ( c ) ) ) , 0 ) ) - ( f / ( c ) ) ) )",
      "BaseFormula": "max( 0 , tma_bad_speculation - tma_branch_mispredicts )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_..Machine_Clears(%)"
          },
          {
            "Alias": "b",
            "Value": "metric_TMA_Bad_Speculation(%)"
          }
        ],
        "Formula": "a > 10 & b > 15",
        "BaseFormula": "metric_TMA_..Machine_Clears(%) > 10 & metric_TMA_Bad_Speculation(%) > 15",
        "ThresholdIssues": "$issueMC, $issueSyncxn"
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "BadSpec;BvMS;MachineClears;TmaL2",
      "LocateWith": "MACHINE_CLEARS.COUNT"
    },
    {
      "MetricName": "Backend_Bound",
      "LegacyName": "metric_TMA_Backend_Bound(%)",
      "Level": 1,
      "BriefDescription": "This category represents fraction of slots where no uops are being delivered due to a lack of required resources for accepting new uops in the Backend. Backend is the portion of the processor core where the out-of-order scheduler dispatches ready uops into their respective execution units; and once completed these uops get retired according to program order. For example; stalls due to data-cache misses or stalls due to the divider unit being overloaded are both categorized under Backend Bound. Backend Bound is further divided into two main categories: Memory Bound and Core Bound.",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "TOPDOWN.BACKEND_BOUND_SLOTS",
          "Alias": "a"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "b"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( a / b )",
      "BaseFormula": " 100 * ( [TOPDOWN.BACKEND_BOUND_SLOTS] / [TOPDOWN.SLOTS_P] )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_Backend_Bound(%)"
          }
        ],
        "Formula": "a > 20",
        "BaseFormula": "metric_TMA_Backend_Bound(%) > 20",
        "ThresholdIssues": ""
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "BvOB;TmaL1",
      "LocateWith": " TOPDOWN.BACKEND_BOUND_SLOTS"
    },
    {
      "MetricName": "Memory_Bound",
      "LegacyName": "metric_TMA_..Memory_Bound(%)",
      "ParentCategory": "Backend_Bound",
      "Level": 2,
      "BriefDescription": "This metric represents fraction of slots the Memory subsystem within the Backend was a bottleneck.  Memory Bound estimates fraction of slots where pipeline is likely stalled due to demand load or store instructions. This accounts mainly for (1) non-completed in-flight memory demand loads which coincides with execution units starvation; in addition to (2) cases where stores could impose backpressure on the pipeline when many of them get buffered at the same time (less common out of the two).",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "TOPDOWN.MEMORY_BOUND_SLOTS",
          "Alias": "a"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "b"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( a / b )",
      "BaseFormula": " 100 * ( [TOPDOWN.MEMORY_BOUND_SLOTS] / [TOPDOWN.SLOTS_P] )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_..Memory_Bound(%)"
          },
          {
            "Alias": "b",
            "Value": "metric_TMA_Backend_Bound(%)"
          }
        ],
        "Formula": "a > 20 & b > 20",
        "BaseFormula": "metric_TMA_..Memory_Bound(%) > 20 & metric_TMA_Backend_Bound(%) > 20",
        "ThresholdIssues": ""
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "Backend;TmaL2",
      "LocateWith": "#NA"
    },
    {
      "MetricName": "Core_Bound",
      "LegacyName": "metric_TMA_..Core_Bound(%)",
      "ParentCategory": "Backend_Bound",
      "Level": 2,
      "BriefDescription": "This metric represents fraction of slots where Core non-memory issues were of a bottleneck.  Shortage in hardware compute resources; or dependencies in software's instructions are both categorized under Core Bound. Hence it may indicate the machine ran out of an out-of-order resource; certain execution units are overloaded or dependencies in program's data- or instruction-flow are limiting the performance (e.g. FP-chained long-latency arithmetic operations).",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "TOPDOWN.BACKEND_BOUND_SLOTS",
          "Alias": "a"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "b"
        },
        {
          "Name": "TOPDOWN.MEMORY_BOUND_SLOTS",
          "Alias": "c"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( max( 0 , ( a / ( b ) ) - ( c / ( b ) ) ) )",
      "BaseFormula": "max( 0 , tma_backend_bound - tma_memory_bound )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_..Core_Bound(%)"
          },
          {
            "Alias": "b",
            "Value": "metric_TMA_Backend_Bound(%)"
          }
        ],
        "Formula": "a > 10 & b > 20",
        "BaseFormula": "metric_TMA_..Core_Bound(%) > 10 & metric_TMA_Backend_Bound(%) > 20",
        "ThresholdIssues": ""
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "Backend;TmaL2;Compute",
      "LocateWith": ""
    },
    {
      "MetricName": "Retiring",
      "LegacyName": "metric_TMA_Retiring(%)",
      "Level": 1,
      "BriefDescription": "This category represents fraction of slots utilized by useful work i.e. issued uops that eventually get retired. Ideally; all pipeline slots would be attributed to the Retiring category.  Retiring of 100% would indicate the maximum Pipeline_Width throughput was achieved.  Maximizing Retiring typically increases the Instructions-per-cycle (see IPC metric). Note that a high Retiring value does not necessary mean there is no room for more performance.  For example; Heavy-operations or Microcode Assists are categorized under Retiring. They often indicate suboptimal performance and can often be optimized or avoided. ",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "UOPS_RETIRED.SLOTS",
          "Alias": "a"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "b"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( a / b )",
      "BaseFormula": " 100 * ( [UOPS_RETIRED.SLOTS] / [TOPDOWN.SLOTS_P] )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_Retiring(%)"
          },
          {
            "Alias": "b",
            "Value": "metric_TMA_..Heavy_Operations(%)"
          }
        ],
        "Formula": "a > 70 | b > 10",
        "BaseFormula": "metric_TMA_Retiring(%) > 70 | metric_TMA_..Heavy_Operations(%) > 10",
        "ThresholdIssues": ""
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "BvUW;TmaL1",
      "LocateWith": " UOPS_RETIRED.SLOTS"
    },
    {
      "MetricName": "Light_Operations",
      "LegacyName": "metric_TMA_..Light_Operations(%)",
      "ParentCategory": "Retiring",
      "Level": 2,
      "BriefDescription": "This metric represents fraction of slots where the CPU was retiring light-weight operations , instructions that require no more than one uop (micro-operation). This correlates with total number of instructions used by the program. A uops-per-instruction (see UopPI metric) ratio of 1 or less should be expected for decently optimized code running on Intel Core/Xeon products. While this often indicates efficient X86 instructions were executed; high value does not necessarily mean better performance cannot be achieved. ([ICL+] Note this may undercount due to approximation using indirect events; [ADL+] .)",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "UOPS_RETIRED.SLOTS",
          "Alias": "a"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "b"
        },
        {
          "Name": "UOPS_RETIRED.HEAVY",
          "Alias": "c"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( max( 0 , ( a / ( b ) ) - ( c / ( b ) ) ) )",
      "BaseFormula": "max( 0 , tma_retiring - tma_heavy_operations )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_..Light_Operations(%)"
          }
        ],
        "Formula": "a > 60",
        "BaseFormula": "metric_TMA_..Light_Operations(%) > 60",
        "ThresholdIssues": ""
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "Retire;TmaL2",
      "LocateWith": "INST_RETIRED.PREC_DIST"
    },
    {
      "MetricName": "Memory_Operations",
      "LegacyName": "metric_TMA_....Memory_Operations(%)",
      "ParentCategory": "Light_Operations",
      "Level": 3,
      "BriefDescription": "This metric represents fraction of slots where the CPU was retiring memory operations , uops for memory load or store accesses.",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "UOPS_RETIRED.SLOTS",
          "Alias": "a"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "b"
        },
        {
          "Name": "UOPS_RETIRED.HEAVY",
          "Alias": "c"
        },
        {
          "Name": "MEM_UOP_RETIRED.ANY",
          "Alias": "d"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( ( max( 0 , ( a / ( b ) ) - ( c / ( b ) ) ) ) * d / ( ( a / ( b ) ) * ( b ) ) )",
      "BaseFormula": "tma_light_operations * mem_uop_retired.any / ( tma_retiring * tma_info_thread_slots )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_....Memory_Operations(%)"
          },
          {
            "Alias": "b",
            "Value": "metric_TMA_..Light_Operations(%)"
          }
        ],
        "Formula": "a > 10 & b > 60",
        "BaseFormula": "metric_TMA_....Memory_Operations(%) > 10 & metric_TMA_..Light_Operations(%) > 60",
        "ThresholdIssues": ""
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "Pipeline",
      "LocateWith": ""
    },
    {
      "MetricName": "Fused_Instructions",
      "LegacyName": "metric_TMA_....Fused_Instructions(%)",
      "ParentCategory": "Light_Operations",
      "Level": 3,
      "BriefDescription": "This metric represents fraction of slots where the CPU was retiring fused instructions , where one uop can represent multiple contiguous instructions. CMP+JCC or DEC+JCC are common examples of legacy fusions. {([MTL] Note new MOV+OP and Load+OP fusions appear under Other_Light_Ops in MTL!)}",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "UOPS_RETIRED.SLOTS",
          "Alias": "a"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "b"
        },
        {
          "Name": "UOPS_RETIRED.HEAVY",
          "Alias": "c"
        },
        {
          "Name": "INST_RETIRED.MACRO_FUSED",
          "Alias": "d"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( ( max( 0 , ( a / ( b ) ) - ( c / ( b ) ) ) ) * d / ( ( a / ( b ) ) * ( b ) ) )",
      "BaseFormula": "tma_light_operations * inst_retired.macro_fused / ( tma_retiring * tma_info_thread_slots )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_....Fused_Instructions(%)"
          },
          {
            "Alias": "b",
            "Value": "metric_TMA_..Light_Operations(%)"
          }
        ],
        "Formula": "a > 10 & b > 60",
        "BaseFormula": "metric_TMA_....Fused_Instructions(%) > 10 & metric_TMA_..Light_Operations(%) > 60",
        "ThresholdIssues": ""
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "Branches;BvBO;Pipeline",
      "LocateWith": ""
    },
    {
      "MetricName": "Non_Fused_Branches",
      "LegacyName": "metric_TMA_....Non_Fused_Branches(%)",
      "ParentCategory": "Light_Operations",
      "Level": 3,
      "BriefDescription": "This metric represents fraction of slots where the CPU was retiring branch instructions that were not fused. Non-conditional branches like direct JMP or CALL would count here. Can be used to examine fusible conditional jumps that were not fused.",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "UOPS_RETIRED.SLOTS",
          "Alias": "a"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "b"
        },
        {
          "Name": "UOPS_RETIRED.HEAVY",
          "Alias": "c"
        },
        {
          "Name": "BR_INST_RETIRED.ALL_BRANCHES",
          "Alias": "d"
        },
        {
          "Name": "INST_RETIRED.MACRO_FUSED",
          "Alias": "e"
        },
        {
          "Name": "BR_INST_RETIRED.ALL_BRANCHES",
          "Alias": "f"
        },
        {
          "Name": "INST_RETIRED.MACRO_FUSED",
          "Alias": "g"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( ( max( 0 , ( a / ( b ) ) - ( c / ( b ) ) ) ) * ( d - e ) / ( ( a / ( b ) ) * ( b ) ) )",
      "BaseFormula": "tma_light_operations * ( br_inst_retired.all_branches - inst_retired.macro_fused ) / ( tma_retiring * tma_info_thread_slots )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_....Non_Fused_Branches(%)"
          },
          {
            "Alias": "b",
            "Value": "metric_TMA_..Light_Operations(%)"
          }
        ],
        "Formula": "a > 10 & b > 60",
        "BaseFormula": "metric_TMA_....Non_Fused_Branches(%) > 10 & metric_TMA_..Light_Operations(%) > 60",
        "ThresholdIssues": ""
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "Branches;BvBO;Pipeline",
      "LocateWith": ""
    },
    {
      "MetricName": "Heavy_Operations",
      "LegacyName": "metric_TMA_..Heavy_Operations(%)",
      "ParentCategory": "Retiring",
      "Level": 2,
      "BriefDescription": "This metric represents fraction of slots where the CPU was retiring heavy-weight operations , instructions that require two or more uops or micro-coded sequences. This highly-correlates with the uop length of these instructions/sequences.([ICL+] Note this may overcount due to approximation using indirect events; [ADL+])",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "UOPS_RETIRED.HEAVY",
          "Alias": "a"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "b"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( a / b )",
      "BaseFormula": " 100 * ( [UOPS_RETIRED.HEAVY] / [TOPDOWN.SLOTS_P] )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_..Heavy_Operations(%)"
          }
        ],
        "Formula": "a > 10",
        "BaseFormula": "metric_TMA_..Heavy_Operations(%) > 10",
        "ThresholdIssues": ""
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "Retire;TmaL2",
      "LocateWith": " UOPS_RETIRED.HEAVY"
    },
    {
      "MetricName": "Few_Uops_Instructions",
      "LegacyName": "metric_TMA_....Few_Uops_Instructions(%)",
      "ParentCategory": "Heavy_Operations",
      "Level": 3,
      "BriefDescription": "This metric represents fraction of slots where the CPU was retiring instructions that that are decoder into two or more uops. This highly-correlates with the number of uops in such instructions.",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "UOPS_RETIRED.HEAVY",
          "Alias": "a"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "b"
        },
        {
          "Name": "UOPS_RETIRED.MS",
          "Alias": "c"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( max( 0 , ( a / ( b ) ) - ( c / ( b ) ) ) )",
      "BaseFormula": "max( 0 , tma_heavy_operations - tma_microcode_sequencer )",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_....Few_Uops_Instructions(%)"
          },
          {
            "Alias": "b",
            "Value": "metric_TMA_..Heavy_Operations(%)"
          }
        ],
        "Formula": "a > 5 & b > 10",
        "BaseFormula": "metric_TMA_....Few_Uops_Instructions(%) > 5 & metric_TMA_..Heavy_Operations(%) > 10",
        "ThresholdIssues": "$issueD0"
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "",
      "LocateWith": ""
    },
    {
      "MetricName": "Microcode_Sequencer",
      "LegacyName": "metric_TMA_....Microcode_Sequencer(%)",
      "ParentCategory": "Heavy_Operations",
      "Level": 3,
      "BriefDescription": "This metric represents fraction of slots the CPU was retiring uops fetched by the Microcode Sequencer (MS) unit.  The MS is used for CISC instructions not supported by the default decoders (like repeat move strings; or CPUID); or by microcode assists used to address some operation modes (like in Floating Point assists). These cases can often be avoided.",
      "UnitOfMeasure": "percent",
      "Events": [
        {
          "Name": "UOPS_RETIRED.MS",
          "Alias": "a"
        },
        {
          "Name": "TOPDOWN.SLOTS_P",
          "Alias": "b"
        }
      ],
      "Constants": [],
      "Formula": "100 * ( a / ( b ) )",
      "BaseFormula": "uops_retired.ms / tma_info_thread_slots",
      "Category": "TMA",
      "CountDomain": "Slots",
      "Threshold": {
        "ThresholdMetrics": [
          {
            "Alias": "a",
            "Value": "metric_TMA_....Microcode_Sequencer(%)"
          },
          {
            "Alias": "b",
            "Value": "metric_TMA_..Heavy_Operations(%)"
          }
        ],
        "Formula": "a > 5 & b > 10",
        "BaseFormula": "metric_TMA_....Microcode_Sequencer(%) > 5 & metric_TMA_..Heavy_Operations(%) > 10",
        "ThresholdIssues": "$issueMC, $issueMS"
      },
      "ResolutionLevels": "THREAD, CORE, SOCKET, SYSTEM",
      "MetricGroup": "MicroSeq",
      "LocateWith": "UOPS_RETIRED.MS"
    }
  ]
}