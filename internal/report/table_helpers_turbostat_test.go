package report

import (
	"reflect"
	"strings"
	"testing"
)

// Copyright (C) 2021-2025 Intel Corporation
// SPDX-License-Identifier: BSD-3-Clause

const turbostatOutput = `TIME: 15:04:05
INTERVAL: 2
Package Core    CPU     Avg_MHz Busy%   Bzy_MHz TSC_MHz IPC     IRQ     SMI     POLL    C1      C1E     C6      POLL%   C1%     C1E%    C6%     CPU%c1  CPU%c6  CoreTmp CoreThr PkgTmp  Pkg%pc2 Pkg%pc6 PkgWatt RAMWatt PKG_%   RAM_%   UncMHz
-       -       -       363     9.41    3863    1997    2.15    132732  0       77      68      2530    9318    0.00    0.00    0.15    90.29   0.28    80.88   57      0       57      0.00    0.00    431.32  24.17   0.00    0.00    2400
0       0       0       2244    58.05   3866    2000    2.12    5298    0       0       3       906     1451    0.00    0.00    14.06   27.97   14.07   27.66   45      0       57      0.00    0.00    223.53  7.38    0.00    0.00    2400
0       0       128     0       0.01    3842    2000    0.57    16      0       0       0       4       13      0.00    0.00    0.07    99.92   14.07
0       1       1       951     24.63   3860    2000    2.06    3721    0       0       0       1107    2067    0.00    0.00    20.19   55.29   20.16   54.97   50      0
0       1       129     0       0.01    3875    2000    0.47    19      0       0       0       4       18      0.00    0.00    0.08    99.92   20.16
0       2       2       3092    80.07   3862    2000    2.15    4202    0       0       0       0       160     0.00    0.00    0.00    19.94   0.00    19.83   54      0
0       2       130     0       0.01    3893    2000    0.25    18      0       0       0       4       15      0.00    0.00    0.08    99.91   0.00
0       3       3       3092    80.06   3862    2000    2.15    4204    0       0       0       1       160     0.00    0.00    0.00    19.94   0.01    19.84   55      0
0       3       131     0       0.01    3879    2000    0.46    37      0       0       0       7       31      0.00    0.00    0.14    99.86   0.01
0       4       4       0       0.01    3839    2000    0.47    14      0       0       0       4       17      0.00    0.00    0.07    99.92   0.12    99.87   49      0
0       4       132     0       0.01    3824    2000    0.46    18      0       0       0       6       13      0.00    0.00    0.10    99.90   0.12
0       5       5       0       0.00    3657    2000    0.68    6       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    19.78   57      0
0       5       133     3094    80.11   3862    2000    2.15    4220    0       0       0       0       158     0.00    0.00    0.00    19.90   0.00
0       6       6       3092    80.06   3862    2000    2.15    4207    0       0       0       0       159     0.00    0.00    0.00    19.95   0.01    19.83   56      0
0       6       134     0       0.00    3882    2000    0.73    5       0       0       0       1       5       0.00    0.00    0.01    99.98   0.01
0       7       7       3096    80.07   3867    2000    2.15    4215    0       0       0       0       160     0.00    0.00    0.00    19.93   0.00    19.83   53      0
0       7       135     0       0.00    3892    2000    0.80    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       8       8       0       0.00    3890    2000    0.79    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  47      0
0       8       136     0       0.00    3899    2000    0.94    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       9       9       0       0.00    3597    2000    0.74    1       0       0       0       0       4       0.00    0.00    0.00    100.00  0.00    99.99   48      0
0       9       137     0       0.00    3468    2000    0.96    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       10      10      0       0.00    3893    2000    0.66    2       0       0       0       0       3       0.00    0.00    0.00    100.00  0.00    100.00  48      0
0       10      138     0       0.00    3900    2000    0.90    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       11      11      3095    80.13   3862    2000    2.15    4211    0       0       0       0       157     0.00    0.00    0.00    19.88   0.00    19.78   53      0
0       11      139     0       0.00    3900    2000    0.78    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       12      12      0       0.00    3897    2000    0.77    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  48      0
0       12      140     0       0.00    3899    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       13      13      0       0.00    3894    2000    0.78    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  48      0
0       13      141     0       0.00    3901    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       14      14      3092    80.07   3862    2000    2.15    4218    0       0       0       0       158     0.00    0.00    0.00    19.94   0.00    19.83   55      0
0       14      142     1       0.03    3848    2000    0.50    26      0       0       0       0       26      0.00    0.00    0.00    99.97   0.00
0       15      15      0       0.00    3893    2000    0.82    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  47      0
0       15      143     0       0.00    3900    2000    0.95    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       16      16      0       0.00    3890    2000    0.80    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  47      0
0       16      144     0       0.00    3900    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       17      17      0       0.00    3896    2000    0.79    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  47      0
0       17      145     0       0.00    3901    2000    0.91    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       18      18      0       0.00    3814    2000    0.68    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.25    99.71   46      0
0       18      146     1       0.03    3805    2000    0.75    66      0       0       0       28      37      0.00    0.00    0.25    99.72   0.25
0       19      19      0       0.00    3796    2000    0.71    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  47      0
0       19      147     0       0.00    3800    2000    0.95    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       20      20      0       0.00    3812    2000    0.83    3       0       0       0       0       4       0.00    0.00    0.00    100.00  0.00    99.99   46      0
0       20      148     0       0.00    3764    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       21      21      0       0.00    3719    2000    0.72    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
0       21      149     0       0.00    3720    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       22      22      1       0.01    3889    2000    0.91    1       0       0       0       0       24      0.00    0.00    0.00    99.99   0.00    99.98   47      0
0       22      150     0       0.00    3901    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       23      23      0       0.00    3890    2000    0.72    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  46      0
0       23      151     0       0.00    3899    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       24      24      0       0.00    3659    2000    0.77    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  45      0
0       24      152     0       0.00    3648    2000    0.97    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       25      25      0       0.00    3896    2000    0.74    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  46      0
0       25      153     0       0.00    3901    2000    0.94    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       26      26      0       0.00    3892    2000    0.72    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    99.99   46      0
0       26      154     0       0.01    3900    2000    0.75    4       0       0       0       0       10      0.00    0.00    0.00    99.99   0.00
0       27      27      0       0.00    3893    2000    0.71    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  45      0
0       27      155     0       0.00    3900    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       28      28      0       0.00    3813    2000    0.69    4       0       0       0       2       3       0.00    0.00    0.01    99.99   0.01    99.98   47      0
0       28      156     0       0.00    3866    2000    0.79    1       0       0       0       0       3       0.00    0.00    0.00    100.00  0.01
0       29      29      0       0.00    3891    2000    0.81    1       0       0       0       0       4       0.00    0.00    0.00    100.00  0.00    99.99   45      0
0       29      157     0       0.00    3901    2000    0.94    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       30      30      0       0.00    3895    2000    0.76    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  45      0
0       30      158     0       0.00    3899    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       31      31      0       0.00    3873    2000    0.76    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    99.98   45      0
0       31      159     0       0.01    3884    2000    0.91    2       0       0       0       0       24      0.00    0.00    0.00    99.99   0.00
0       32      32      3095    80.13   3862    2000    2.15    4213    0       1       0       2       158     0.00    0.00    0.02    19.86   0.02    19.76   50      0
0       32      160     0       0.00    3792    2000    0.94    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.02
0       33      33      0       0.00    3891    2000    0.78    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
0       33      161     0       0.00    3900    2000    0.90    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       34      34      3092    80.07   3862    2000    2.15    4207    0       0       0       0       158     0.00    0.00    0.00    19.93   0.00    19.84   52      0
0       34      162     0       0.00    3842    2000    0.77    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       35      35      3094    80.06   3865    2000    2.15    4203    0       0       0       0       158     0.00    0.00    0.00    19.95   0.00    19.85   49      0
0       35      163     0       0.00    3889    2000    0.96    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       36      36      0       0.00    3890    2000    0.73    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
0       36      164     0       0.00    3901    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       37      37      0       0.00    3894    2000    0.56    2       0       0       0       0       4       0.00    0.00    0.00    100.00  0.00    100.00  45      0
0       37      165     0       0.00    3901    2000    0.95    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       38      38      0       0.00    3803    2000    0.57    3       0       0       0       0       4       0.00    0.00    0.00    100.00  0.00    99.99   43      0
0       38      166     0       0.00    3777    2000    0.57    3       0       0       0       0       5       0.00    0.00    0.00    100.00  0.00
0       39      39      0       0.00    3891    2000    0.72    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  42      0
0       39      167     0       0.00    3899    2000    0.94    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       40      40      0       0.00    3893    2000    0.71    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
0       40      168     0       0.00    3901    2000    0.94    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       41      41      0       0.00    3890    2000    0.71    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
0       41      169     0       0.00    3899    2000    0.91    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       42      42      0       0.00    3879    2000    0.71    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  42      0
0       42      170     0       0.00    3898    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       43      43      0       0.00    3890    2000    0.73    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  42      0
0       43      171     0       0.00    3899    2000    0.95    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       44      44      0       0.00    3880    2000    0.70    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
0       44      172     0       0.00    3899    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       45      45      0       0.00    3890    2000    0.71    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
0       45      173     0       0.00    3897    2000    0.91    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       46      46      0       0.00    3812    2000    0.63    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    19.80   47      0
0       46      174     3099    80.10   3869    2000    2.15    4217    0       0       0       0       158     0.00    0.00    0.00    19.90   0.00
0       47      47      3095    80.04   3867    2000    2.15    4212    0       0       0       0       160     0.00    0.00    0.00    19.96   0.00    19.86   48      0
0       47      175     0       0.01    3899    2000    0.46    11      0       0       0       0       13      0.00    0.00    0.00    99.99   0.00
0       48      48      3091    80.05   3862    2000    2.15    4211    0       0       0       1       158     0.00    0.00    0.00    19.96   0.05    19.80   51      0
0       48      176     1       0.03    3870    2000    0.85    65      0       0       0       29      37      0.00    0.00    0.24    99.73   0.05
0       49      49      3090    80.02   3862    2000    2.15    4202    0       0       0       0       159     0.00    0.00    0.00    19.99   0.00    19.89   49      0
0       49      177     0       0.00    3883    2000    0.78    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       50      50      0       0.00    3891    2000    0.80    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
0       50      178     0       0.00    3899    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       51      51      3095    80.15   3862    2000    2.15    4201    0       0       0       0       157     0.00    0.00    0.00    19.86   0.00    19.75   49      0
0       51      179     1       0.02    3879    2000    0.37    45      0       0       0       0       46      0.00    0.00    0.00    99.98   0.00
0       52      52      0       0.00    3887    2000    0.72    4       0       0       0       0       6       0.00    0.00    0.00    99.99   0.00    99.99   44      0
0       52      180     0       0.00    3899    2000    0.68    5       0       0       0       0       6       0.00    0.00    0.00    100.00  0.00
0       53      53      0       0.00    3809    2000    0.71    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    99.99   40      0
0       53      181     0       0.00    3849    2000    1.01    4       0       0       0       0       5       0.00    0.00    0.00    100.00  0.00
0       54      54      0       0.00    3893    2000    0.72    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
0       54      182     0       0.00    3900    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       55      55      0       0.00    3890    2000    0.71    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
0       55      183     0       0.00    3899    2000    0.73    2       0       0       0       0       3       0.00    0.00    0.00    100.00  0.00
0       56      56      0       0.00    3894    2000    0.70    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  41      0
0       56      184     0       0.00    3901    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       57      57      0       0.00    3347    2000    0.76    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  41      0
0       57      185     0       0.00    3380    2000    0.97    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       58      58      0       0.00    3893    2000    0.72    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  41      0
0       58      186     0       0.00    3900    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       59      59      0       0.00    3351    2000    0.75    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  41      0
0       59      187     0       0.00    3359    2000    0.87    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       60      60      0       0.00    3893    2000    0.70    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  40      0
0       60      188     0       0.00    3901    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       61      61      0       0.00    3890    2000    0.71    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    99.97   41      0
0       61      189     1       0.02    3899    2000    0.43    45      0       0       0       0       46      0.00    0.00    0.00    99.98   0.00
0       62      62      0       0.00    3890    2000    0.69    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  41      0
0       62      190     0       0.00    3900    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
0       63      63      0       0.00    3502    2000    0.71    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  40      0
0       63      191     0       0.00    3715    2000    0.91    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       0       64      2       0.05    3789    2000    0.39    433     0       0       0       408     30      0.00    0.00    3.75    96.20   0.99    18.81   46      0       53      0.00    0.00    208.40  16.83   0.00    0.00    2400
1       0       192     3096    80.09   3866    2000    2.15    4205    0       0       0       0       162     0.00    0.00    0.00    19.92   0.99
1       1       65      80      2.06    3862    2000    3.12    130     0       0       0       2       26      0.00    0.00    0.02    97.92   0.02    97.90   46      0
1       1       193     1       0.02    3885    2000    0.30    26      0       0       0       0       27      0.00    0.00    0.00    99.99   0.02
1       2       66      0       0.00    3893    2000    0.70    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
1       2       194     0       0.00    3901    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       3       67      1       0.01    3867    2000    0.49    60      0       20      19      9       11      0.00    0.00    0.13    99.86   0.13    99.85   44      0
1       3       195     0       0.00    3900    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.13
1       4       68      0       0.00    3895    2000    0.69    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  46      0
1       4       196     0       0.00    3901    2000    0.80    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       5       69      0       0.00    3897    2000    0.70    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
1       5       197     0       0.00    3901    2000    0.91    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       6       70      3093    80.08   3862    2000    2.15    4207    0       0       0       0       158     0.00    0.00    0.00    19.93   0.00    19.83   51      0
1       6       198     0       0.00    3899    2000    0.76    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       7       71      0       0.00    3890    2000    0.72    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  46      0
1       7       199     0       0.00    3898    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       8       72      0       0.01    3891    2000    0.51    3       0       0       0       0       7       0.00    0.00    0.00    99.99   0.00    99.99   44      0
1       8       200     0       0.00    3900    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       9       73      0       0.00    3895    2000    0.69    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
1       9       201     0       0.00    3900    2000    0.89    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       10      74      0       0.00    3893    2000    0.72    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
1       10      202     0       0.00    3900    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       11      75      0       0.00    3894    2000    0.73    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
1       11      203     0       0.00    3900    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       12      76      0       0.00    3895    2000    0.75    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
1       12      204     0       0.00    3903    2000    0.94    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       13      77      0       0.00    3890    2000    0.71    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
1       13      205     0       0.00    3900    2000    0.91    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       14      78      0       0.00    3895    2000    0.73    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
1       14      206     0       0.00    3900    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       15      79      0       0.00    3895    2000    0.75    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  45      0
1       15      207     0       0.00    3903    2000    0.95    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       16      80      0       0.00    3895    2000    0.71    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
1       16      208     0       0.00    3901    2000    0.91    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       17      81      0       0.00    3893    2000    0.70    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  46      0
1       17      209     0       0.00    3901    2000    0.87    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       18      82      0       0.00    3891    2000    0.71    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  47      0
1       18      210     0       0.00    3900    2000    0.90    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       19      83      0       0.00    3892    2000    0.50    6       0       0       0       0       7       0.00    0.00    0.00    100.00  0.00    99.99   43      0
1       19      211     0       0.00    3900    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       20      84      0       0.00    3891    2000    0.59    3       0       0       0       0       4       0.00    0.00    0.00    100.00  0.00    99.99   45      0
1       20      212     0       0.00    3901    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       21      85      1       0.03    3838    2000    0.27    54      0       0       0       0       53      0.00    0.00    0.00    99.97   0.00    99.97   45      0
1       21      213     0       0.00    3901    2000    0.90    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       22      86      0       0.00    3894    2000    0.75    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  46      0
1       22      214     0       0.00    3900    2000    0.94    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       23      87      0       0.00    3511    2000    0.76    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
1       23      215     0       0.00    3536    2000    0.96    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       24      88      0       0.00    3892    2000    0.76    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
1       24      216     0       0.00    3901    2000    0.95    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       25      89      0       0.00    3891    2000    0.80    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
1       25      217     0       0.00    3899    2000    0.87    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       26      90      0       0.00    3896    2000    0.79    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
1       26      218     0       0.00    3901    2000    0.91    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       27      91      3093    80.08   3862    2000    2.15    4208    0       0       0       0       159     0.00    0.00    0.00    19.93   0.00    19.83   52      0
1       27      219     0       0.00    3900    2000    0.75    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       28      92      0       0.00    3890    2000    0.75    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
1       28      220     0       0.00    3900    2000    0.94    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       29      93      0       0.00    3890    2000    0.74    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
1       29      221     0       0.00    3900    2000    0.94    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       30      94      0       0.00    3430    2000    0.75    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
1       30      222     0       0.00    3459    2000    0.95    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       31      95      0       0.00    3110    2000    0.78    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  42      0
1       31      223     0       0.00    3538    2000    0.95    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       32      96      0       0.00    3154    2000    0.78    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
1       32      224     0       0.00    3181    2000    0.98    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       33      97      0       0.00    3184    2000    0.79    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
1       33      225     0       0.00    3222    2000    0.99    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       34      98      0       0.00    3894    2000    0.75    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
1       34      226     0       0.00    3899    2000    0.96    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       35      99      0       0.00    3183    2000    0.78    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
1       35      227     0       0.00    3221    2000    0.98    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       36      100     0       0.00    3889    2000    0.73    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
1       36      228     0       0.00    3899    2000    0.87    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       37      101     0       0.00    3892    2000    0.74    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    99.97   44      0
1       37      229     1       0.02    3872    2000    0.30    53      0       0       0       0       52      0.00    0.00    0.00    99.98   0.00
1       38      102     0       0.00    3896    2000    0.73    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  42      0
1       38      230     0       0.00    3901    2000    0.88    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       39      103     0       0.00    3890    2000    0.73    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.16    99.83   42      0
1       39      231     0       0.01    3889    2000    0.55    32      0       13      12      0       14      0.00    0.16    0.00    99.84   0.16
1       40      104     1       0.03    3840    2000    0.32    54      0       0       0       0       55      0.00    0.00    0.00    99.97   0.00    99.96   42      0
1       40      232     0       0.00    3901    2000    0.90    2       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       41      105     0       0.00    3887    2000    0.70    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.03    99.95   41      0
1       41      233     1       0.02    3893    2000    0.54    45      0       27      23      2       19      0.00    0.01    0.02    99.96   0.03
1       42      106     0       0.00    3892    2000    0.73    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  42      0
1       42      234     0       0.00    3900    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       43      107     0       0.00    3894    2000    0.73    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  43      0
1       43      235     0       0.00    3901    2000    0.95    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       44      108     0       0.00    3890    2000    0.70    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  42      0
1       44      236     0       0.00    3899    2000    0.91    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       45      109     0       0.00    3894    2000    0.63    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    99.99   42      0
1       45      237     0       0.01    3900    2000    0.71    3       0       0       0       0       11      0.00    0.00    0.00    99.99   0.00
1       46      110     0       0.00    3891    2000    0.65    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    99.95   42      0
1       46      238     2       0.04    3874    2000    0.48    56      0       0       0       0       62      0.00    0.00    0.00    99.96   0.00
1       47      111     3095    80.14   3862    2000    2.15    4204    0       0       0       0       159     0.00    0.00    0.00    19.87   0.00    19.77   50      0
1       47      239     0       0.00    3714    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       48      112     0       0.00    3879    2000    0.74    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
1       48      240     0       0.00    3898    2000    0.95    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       49      113     0       0.00    3890    2000    0.72    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
1       49      241     0       0.00    3900    2000    0.93    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       50      114     0       0.00    3879    2000    0.71    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  41      0
1       50      242     0       0.00    3898    2000    0.94    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       51      115     3093    80.10   3862    2000    2.14    4200    0       0       0       0       160     0.00    0.00    0.00    19.91   0.00    19.81   51      0
1       51      243     1       0.03    3783    2000    0.38    79      0       16      11      0       17      0.00    0.15    0.00    99.82   0.00
1       52      116     3091    80.03   3862    2000    2.15    4204    0       0       0       2       159     0.00    0.00    0.01    19.96   0.01    19.87   49      0
1       52      244     0       0.00    3700    2000    0.81    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.01
1       53      117     3095    80.14   3862    2000    2.15    4203    0       0       0       0       159     0.00    0.00    0.00    19.86   0.00    19.76   50      0
1       53      245     0       0.00    3865    2000    0.95    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       54      118     0       0.01    3878    2000    0.45    11      0       0       0       0       12      0.00    0.00    0.00    99.99   0.00    99.99   44      0
1       54      246     0       0.00    3901    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       55      119     3090    80.01   3862    2000    2.15    4211    0       0       0       0       159     0.00    0.00    0.00    20.00   0.00    19.90   46      0
1       55      247     0       0.00    3657    2000    0.78    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       56      120     3096    80.16   3862    2000    2.15    4202    0       0       0       0       159     0.00    0.00    0.00    19.85   0.00    19.75   51      0
1       56      248     0       0.00    3701    2000    0.79    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       57      121     0       0.00    3882    2000    0.78    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
1       57      249     0       0.00    3898    2000    0.92    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       58      122     3094    80.10   3862    2000    2.15    4213    0       0       0       0       158     0.00    0.00    0.00    19.91   0.00    19.81   49      0
1       58      250     0       0.00    3900    2000    0.79    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       59      123     0       0.00    3895    2000    0.67    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00    100.00  44      0
1       59      251     0       0.00    3900    2000    0.90    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       60      124     3090    80.02   3862    2000    2.14    4211    0       0       0       1       159     0.00    0.00    0.02    19.97   0.02    19.87   49      0
1       60      252     0       0.00    3899    2000    0.75    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.02
1       61      125     3093    80.09   3862    2000    2.15    4205    0       0       0       0       158     0.00    0.00    0.00    19.92   0.00    19.82   49      0
1       61      253     0       0.00    3901    2000    0.77    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       62      126     3092    80.05   3862    2000    2.15    4203    0       0       0       0       159     0.00    0.00    0.00    19.96   0.00    19.85   49      0
1       62      254     0       0.00    3899    2000    0.90    1       0       0       0       0       2       0.00    0.00    0.00    100.00  0.00
1       63      127     3092    80.14   3858    2000    2.15    4206    0       0       0       0       157     0.00    0.00    0.00    19.87   0.00    19.75   47      0
1       63      255     8       0.22    3863    2000    2.29    14      0       0       0       0       3       0.00    0.00    0.00    99.78   0.00
Package Core    CPU     Avg_MHz Busy%   Bzy_MHz TSC_MHz IPC     IRQ     SMI     POLL    C1      C1E     C6      POLL%   C1%     C1E%    C6%     CPU%c1  CPU%c6  CoreTmp CoreThr PkgTmp  Pkg%pc2 Pkg%pc6 PkgWatt RAMWatt PKG_%   RAM_%   UncMHz
-       -       -       363     9.41    3863    1997    2.15    132732  0       77      68      2530    9318    0.00    0.00    0.15    90.29   0.28    80.88   57      0       22      0.00    0.00    223.32  24.17   0.00    0.00    2400
0       0       0       2244    58.05   3866    2000    2.12    5298    0       0       3       906     1451    0.00    0.00    14.06   27.97   14.07   27.66   45      0       57      0.00    0.00    223.53  7.38    0.00    0.00    2400
0       0       128     0       0.01    3842    2000    0.57    16      0       0       0       4       13      0.00    0.00    0.07    99.92   14.07
0       1       1       951     24.63   3860    2000    2.06    3721    0       0       0       1107    2067    0.00    0.00    20.19   55.29   20.16   54.97   50      0
0       1       129     0       0.01    3875    2000    0.47    19      0       0       0       4       18      0.00    0.00    0.08    99.92   20.16
0       2       2       3092    80.07   3862    2000    2.15    4202    0       0       0       0       160     0.00    0.00    0.00    19.94   0.00    19.83   54      0
0       2       130     0       0.01    3893    2000    0.25    18      0       0       0       4       15      0.00    0.00    0.08    99.91   0.00
Package Core    CPU     Avg_MHz Busy%   Bzy_MHz TSC_MHz IPC     IRQ     SMI     POLL    C1      C1E     C6      POLL%   C1%     C1E%    C6%     CPU%c1  CPU%c6  CoreTmp CoreThr PkgTmp  Pkg%pc2 Pkg%pc6 PkgWatt RAMWatt PKG_%   RAM_%   UncMHz
-       -       -       363     9.41    3863    1997    2.15    132732  0       77      68      2530    9318    0.00    0.00    0.15    90.29   0.28    80.88   57      0       90      0.00    0.00    300.00  24.17   0.00    0.00    2400
0       0       0       2244    58.05   3866    2000    2.12    5298    0       0       3       906     1451    0.00    0.00    14.06   27.97   14.07   27.66   45      0       57      0.00    0.00    223.53  7.38    0.00    0.00    2400
0       0       128     0       0.01    3842    2000    0.57    16      0       0       0       4       13      0.00    0.00    0.07    99.92   14.07
0       1       1       951     24.63   3860    2000    2.06    3721    0       0       0       1107    2067    0.00    0.00    20.19   55.29   20.16   54.97   50      0
0       1       129     0       0.01    3875    2000    0.47    19      0       0       0       4       18      0.00    0.00    0.08    99.92   20.16
0       2       2       3092    80.07   3862    2000    2.15    4202    0       0       0       0       160     0.00    0.00    0.00    19.94   0.00    19.83   54      0
0       2       130     0       0.01    3893    2000    0.25    18      0       0       0       4       15      0.00    0.00    0.08    99.91   0.00
`

func TestTurbostatSummaryRows(t *testing.T) {
	tests := []struct {
		name            string
		turbostatOutput string
		fieldNames      []string
		wantFirst       []string
		wantLen         int
		expectErr       bool
	}{
		{
			name:            "Extract Avg_MHz and Busy% from summary rows",
			turbostatOutput: turbostatOutput,
			fieldNames:      []string{"Avg_MHz", "Busy%"},
			wantFirst:       []string{"15:04:05", "363", "9.41"},
			wantLen:         3,
			expectErr:       false,
		},
		{
			name:            "Extract Bzy_MHz from summary rows",
			turbostatOutput: turbostatOutput,
			fieldNames:      []string{"Bzy_MHz"},
			wantFirst:       []string{"15:04:05", "3863"},
			wantLen:         3,
			expectErr:       false,
		},
		{
			name:            "Extract multiple fields from summary row",
			turbostatOutput: turbostatOutput,
			fieldNames:      []string{"Avg_MHz", "Busy%", "Bzy_MHz"},
			wantFirst:       []string{"15:04:05", "363", "9.41", "3863"},
			wantLen:         3,
			expectErr:       false,
		},
		{
			name:            "Missing field in header",
			turbostatOutput: turbostatOutput,
			fieldNames:      []string{"NotAField"},
			wantFirst:       nil,
			wantLen:         0,
			expectErr:       true,
		},
		{
			name:            "Empty fieldNames",
			turbostatOutput: turbostatOutput,
			fieldNames:      []string{},
			wantFirst:       nil,
			wantLen:         0,
			expectErr:       true,
		},
		{
			name:            "No summary rows in output",
			turbostatOutput: "No summary rows here",
			fieldNames:      []string{"Avg_MHz", "Busy%"},
			wantFirst:       nil,
			wantLen:         0,
			expectErr:       true,
		},
		{
			name:            "No output",
			turbostatOutput: "",
			fieldNames:      []string{"Avg_MHz", "Busy%"},
			wantFirst:       nil,
			wantLen:         0,
			expectErr:       true,
		},
		{
			name:            "Only time and interval, no turbostat data",
			turbostatOutput: strings.Join(strings.Split(turbostatOutput, "\n")[0:2], "\n"), // Only header and no data
			fieldNames:      []string{"Avg_MHz", "Busy%"},
			wantFirst:       nil,
			wantLen:         0,
			expectErr:       true,
		},
	}

	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			got, err := turbostatSummaryRows(tt.turbostatOutput, tt.fieldNames)
			if (err != nil) != tt.expectErr {
				t.Errorf("turbostatSummaryRows() error = %v, expectErr %v", err, tt.expectErr)
				return
			}
			if tt.expectErr {
				return
			}
			if len(got) != tt.wantLen {
				t.Errorf("turbostatSummaryRows() got %d rows, want %d", len(got), tt.wantLen)
			}
			if tt.wantLen > 0 && !reflect.DeepEqual(got[0], tt.wantFirst) {
				t.Errorf("turbostatSummaryRows() first row = %v, want %v", got[0], tt.wantFirst)
			}
		})
	}
}
func TestMaxTotalPackagePowerFromOutput(t *testing.T) {
	tests := []struct {
		name            string
		turbostatOutput string
		want            string
	}{
		{
			name:            "Typical output with summary rows",
			turbostatOutput: turbostatOutput,
			want:            "300.00 Watts",
		},
		{
			name: "Multiple summary rows, max is not first",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgWatt
-       -       -       100.5
-       -       -       200.75
-       -       -       150.25
`,
			want: "200.75 Watts",
		},
		{
			name: "Multiple summary rows, no TIME",
			turbostatOutput: `
INTERVAL: 1
Package Core    CPU     PkgWatt
-       -       -       100.5
-       -       -       200.75
-       -       -       150.25
`,
			want: "200.75 Watts",
		},
		{
			name: "Multiple summary rows, no INTERVAL",
			turbostatOutput: `
TIME: 12:00:00
Package Core    CPU     PkgWatt
-       -       -       100.5
-       -       -       200.75
-       -       -       150.25
`,
			want: "200.75 Watts",
		},
		{
			name: "No summary rows",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgWatt
0       0       0       100.5
0       1       1       200.75
`,
			want: "",
		},
		{
			name: "Malformed PkgWatt value",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgWatt
-       -       -       notanumber
-       -       -       123.45
`,
			want: "123.45 Watts",
		},
		{
			name: "No PkgWatt column",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     SomethingElse
-       -       -       999
`,
			want: "",
		},
		{
			name:            "Empty output",
			turbostatOutput: "",
			want:            "",
		},
		{
			name: "Only headers, no data",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgWatt
`,
			want: "",
		},
		{
			name: "Zero PkgWatt values",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgWatt
-       -       -       0
-       -       -       0
`,
			want: "",
		},
	}

	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			got := maxTotalPackagePowerFromOutput(tt.turbostatOutput)
			if got != tt.want {
				t.Errorf("maxTotalPackagePowerFromOutput() = %q, want %q", got, tt.want)
			}
		})
	}
}
func TestMinTotalPackagePowerFromOutput(t *testing.T) {
	tests := []struct {
		name            string
		turbostatOutput string
		want            string
	}{
		{
			name:            "Typical output with summary rows",
			turbostatOutput: turbostatOutput,
			want:            "223.32 Watts",
		},
		{
			name: "Multiple summary rows, min is not first",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgWatt
-       -       -       100.5
-       -       -       200.75
-       -       -       50.25
`,
			want: "50.25 Watts",
		},
		{
			name: "No summary rows",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgWatt
0       0       0       100.5
0       1       1       200.75
`,
			want: "",
		},
		{
			name: "Malformed PkgWatt value",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgWatt
-       -       -       notanumber
-       -       -       123.45
-       -       -       99.99
`,
			want: "99.99 Watts",
		},
		{
			name: "No PkgWatt column",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     SomethingElse
-       -       -       999
`,
			want: "",
		},
		{
			name:            "Empty output",
			turbostatOutput: "",
			want:            "",
		},
		{
			name: "Only headers, no data",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgWatt
`,
			want: "",
		},
		{
			name: "Zero PkgWatt values",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgWatt
-       -       -       0
-       -       -       0
`,
			want: "",
		},
	}

	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			got := minTotalPackagePowerFromOutput(tt.turbostatOutput)
			if got != tt.want {
				t.Errorf("minTotalPackagePowerFromOutput() = %q, want %q", got, tt.want)
			}
		})
	}
}
func TestMaxPackageTemperatureFromOutput(t *testing.T) {
	tests := []struct {
		name            string
		turbostatOutput string
		want            string
	}{
		{
			name:            "Typical output with summary rows",
			turbostatOutput: turbostatOutput,
			want:            "90 C",
		},
		{
			name: "Multiple summary rows, max is not first",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgTmp
-       -       -       45
-       -       -       99
-       -       -       77
`,
			want: "99 C",
		},
		{
			name: "No summary rows",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgTmp
0       0       0       45
0       1       1       99
`,
			want: "",
		},
		{
			name: "Malformed PkgTmp value",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgTmp
-       -       -       notanumber
-       -       -       88
`,
			want: "88 C",
		},
		{
			name: "No PkgTmp column",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     SomethingElse
-       -       -       999
`,
			want: "",
		},
		{
			name:            "Empty output",
			turbostatOutput: "",
			want:            "",
		},
		{
			name: "Only headers, no data",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgTmp
`,
			want: "",
		},
		{
			name: "Zero PkgTmp values",
			turbostatOutput: `
TIME: 12:00:00
INTERVAL: 1
Package Core    CPU     PkgTmp
-       -       -       0
-       -       -       0
`,
			want: "",
		},
	}

	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			got := maxPackageTemperatureFromOutput(tt.turbostatOutput)
			if got != tt.want {
				t.Errorf("maxPackageTemperatureFromOutput() = %q, want %q", got, tt.want)
			}
		})
	}
}
